# Web-Technologie

## Animation & Interaktion



## Programm

* Google Maps
* Testbesprechung
* Standortabfrage



## Google Maps

* Einfacher Weg, um Karten einzubinden
* Gratis *
* Viele Funktionen (Strassenkarte, Luftbild, Routenplaner...)



## Grundgerüst

[Karte](samples/map.html)


## HTML-Teil

```html
<div id="map"></div>
```

* Behälter für Karte
* ID: `map`


## CSS-Teil

```html
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

#map {
  height: 100%;
}
```

* Karte soll Seite füllen


## Externes script

    <​script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCJAPP8EgIrWavk0qKFX0kbjR2qGPe-sq0&callback=initMap"><​/script>

* Code für Kartenanzeige
* Einstiegspunkt für Javascript-Ausführung


## Javascript

```js
function initMap() {
  var map = new google.maps.Map(document.getElementById('map'), {
    center: {lat: 47, lng: 7.5},
    zoom: 8,
  });
}
```

* Definition von `initMap`
* Karten-Behälter wird definiert
* Koordinaten des Ausschnitts
* Zoom-Stufe
* `google.maps.Map`-Befehl kommt direkt von Google



# Optionen



## Kartenarten

Option: `mapTypeId`

Mögliche Werte:

* Strassenkarte: `google.maps.MapTypeId.ROADMAP`
* Luftbild: `google.maps.MapTypeId.SATELLITE`


Beispiel:

```js
function initMap() {
  var map = new google.maps.Map(document.getElementById('map'), {
    center: {lat: 47, lng: 7.5},
    zoom: 8,
    mapTypeId: google.maps.MapTypeId.SATELLITE
  });
}
```



## Marker

* Positionsmarker können auf bestehende Karte platziert werden
* Nötige Angaben: Beschriftung und Position

Nach bestehendem Code für Karte:

```js
var marker = new google.maps.Marker({
  position: {lat: 47, lng: 7.5},
  map: map,
  title: 'Mein Zuhause!'
});
```



## Standortabfrage

* Standort des Besuchers kann über JS abgefragt werden
* Besucher muss zustimmen
* Falls zugestimmt: Variable `pos` enthält Position

```js
navigator.geolocation.getCurrentPosition(function(position) {
  var pos = {
    lat: position.coords.latitude,
    lng: position.coords.longitude
  };

  map.setCenter(pos);
});
```
