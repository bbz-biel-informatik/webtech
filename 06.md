# Web-Technologie

## Animation & Interaktion



## Wiederholung


## Klicks abfangen

```html
<button onclick="etwas_machen()">Test</button>
```


## HTML-Elemente ansteuern

* Elemente können (wie bei CSS) mit Selektoren ausgewählt werden

```js
function etwas_machen() {
  var bodyElement = document.querySelector('body');
  bodyElement.style.backgroundColor = 'red';
}
```

[Beispiel](http://jsfiddle.net/6710j3qm/)


## Was passiert?

```js
var bodyElement = document.querySelector('body');
```

`document.querySelector()` wählt das erste passende Element aus und speichert es in der Variable `bodyElement`


```js
bodyElement.style.backgroundColor = 'red';
```

`bodyElement.style.backgroundColor` setzt die Hintergrundfarbe auf rot.



## Events

### Bisher

```js
<button onclick="foo()">Testbutton</button>
```

Nur Klicks auf Knöpfe können behandelt werden. Wie gehts mit Bildern, Texten usw?



### Neu

Beliebige Ereignisse für beliebige Elemente können abgefangen werden


Beispielelement auf der Website:

```html
<img src="http://..../bild.jpg" width="200px" height="200px"/>
```

Klick soll Rahmen blau färben:

```js
var d = document.querySelector('img');
d.addEventListener("click", randHinzufügen);

function randHinzufügen() {
    d.style.border = '5px solid blue';
}
```

[Beispiel](http://jsfiddle.net/q3dp8xs2/)



## Was passiert?

```js
var d = document.querySelector('img');
```

Das Bild-Element wird in der Variable d gespeichert, damit wir später damit arbeiten können.


```js
d.addEventListener("click", randHinzufügen);
```

Der PC soll, sobald der Benutzer auf das Element klickt (Event: click), den Befehl `randHinzufügen` ausführen.

Allgemein:
```js
element.addEventListener(eventName, aktion);
```


```js
function randHinzufügen() {
    d.style.border = '5px solid blue';
}
```

Der Rahmen des Elements wird auf blau gesetzt.



## Events

* Beliebiges Element kann verwendet werden
* Beliebigen Code bei bestimmten Ereignissen ausführen (z.B. Klick, Drüberfahren usw)

[Liste der Events](https://developer.mozilla.org/en-US/docs/Web/Reference/Events)



## Event für mehrere Elemente

```js
var d = document.querySelectorAll('input');
for(var i = 0; i < d.length; i = i + 1) {
  d[i].addEventListener('focus', grau);
  d[i].addEventListener('blur', weiss);
}

function grau() {
  this.style.backgroundColor = 'red';
}

function weiss() {
  this.style.backgroundColor = 'white';
}
```


## this

Die Variable this enthält immer das Element, auf das geklickt wurde!

Ist automatisch in den Event-Handlern definiert.



## Beispiel für `mouseover`-Event

```js
var d = document.querySelector('input');
d.addEventListener('focus', textFeldGewählt);

function textFeldGewählt() {
    d.style.backgroundColor = 'blue';
}
```

[JSFiddle](http://jsfiddle.net/5o9ywu2o/)



## Beispiel für `hover`-Event

Element beim Drüberfahren anders färben: [JSFiddle](http://jsfiddle.net/at8b5vz1/)
